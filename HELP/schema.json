{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Help Documentation Schema",
  "description": "JSON schema for structured help documentation files",
  "type": "object",
  "required": ["tool", "version", "description", "sections"],
  "properties": {
    "tool": {
      "type": "string",
      "description": "Tool name (e.g., backtesting_analysis, qc_optimize)",
      "pattern": "^[a-z_]+$"
    },
    "version": {
      "type": "string",
      "description": "Semantic version (e.g., 2.0.0)",
      "pattern": "^\\d+\\.\\d+\\.\\d+$"
    },
    "description": {
      "type": "string",
      "description": "Brief description of the tool"
    },
    "sections": {
      "type": "array",
      "description": "Help content organized by sections",
      "items": {
        "type": "object",
        "required": ["id", "title", "content", "priority"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique section identifier (snake_case)",
            "pattern": "^[a-z_]+$"
          },
          "title": {
            "type": "string",
            "description": "Section title for display"
          },
          "content": {
            "type": "string",
            "description": "Section content (markdown supported)"
          },
          "tags": {
            "type": "array",
            "description": "Tags for search and categorization",
            "items": {
              "type": "string"
            }
          },
          "priority": {
            "type": "integer",
            "description": "Priority level (1=critical, 2=important, 3=reference)",
            "minimum": 1,
            "maximum": 3
          },
          "related_sections": {
            "type": "array",
            "description": "Related section IDs within this tool",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "examples": {
      "type": "array",
      "description": "Code examples and use cases",
      "items": {
        "type": "object",
        "required": ["title", "description"],
        "properties": {
          "title": {
            "type": "string",
            "description": "Example title"
          },
          "description": {
            "type": "string",
            "description": "What this example demonstrates"
          },
          "code": {
            "type": "string",
            "description": "Example code or command"
          },
          "output": {
            "type": "string",
            "description": "Expected output"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "faqs": {
      "type": "array",
      "description": "Frequently asked questions",
      "items": {
        "type": "object",
        "required": ["question", "answer"],
        "properties": {
          "question": {
            "type": "string",
            "description": "Question text"
          },
          "answer": {
            "type": "string",
            "description": "Answer (markdown supported)"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "related_sections": {
            "type": "array",
            "description": "Related section IDs",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "related_tools": {
      "type": "array",
      "description": "Related tool names",
      "items": {
        "type": "string"
      }
    },
    "metadata": {
      "type": "object",
      "description": "Additional metadata",
      "properties": {
        "created": {
          "type": "string",
          "format": "date",
          "description": "Creation date (YYYY-MM-DD)"
        },
        "updated": {
          "type": "string",
          "format": "date",
          "description": "Last update date (YYYY-MM-DD)"
        },
        "authors": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "skill": {
          "type": "string",
          "description": "Associated skill name"
        }
      }
    }
  }
}
